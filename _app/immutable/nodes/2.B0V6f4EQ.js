import"../chunks/DsnmJJEf.js";import{d as R,o as S,a as T}from"../chunks/DnMkeTf7.js";import{p as $,f as g,a as p,b as A,s as u,c as v,g as e,t as L,d,r as c,e as b}from"../chunks/D1ZUau7v.js";import{i as O}from"../chunks/Bi_UraRF.js";import{b as P}from"../chunks/CA-SuHpu.js";import{g as U,l as j,a as z}from"../chunks/gSmZ6UsH.js";var I=g('<div class="space-y-6"><canvas class="w-full rounded-lg border"></canvas> <button class="w-full rounded-lg bg-red-600 px-6 py-3 font-semibold text-white shadow-md transition duration-200 hover:bg-red-700">Logout</button></div>'),M=g('<div class="space-y-6 text-center"><p class="text-lg text-gray-600">Please login to view your membership card</p> <button class="rounded-lg bg-indigo-600 px-6 py-3 font-semibold text-white shadow-md transition duration-200 hover:bg-indigo-700">Login with OIDC</button></div>'),B=g('<div class="flex min-h-screen items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4"><div class="w-full max-w-full rounded-lg bg-white p-8 shadow-xl"><!></div></div>');function K(x,_){$(_,!0);let s=v(null),n=v(void 0),h=v(null),l;function y(t){const i=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(window.atob(i).split("").map(function(r){return"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(a)}function k(t,o){let i;return function(...a){clearTimeout(i),i=setTimeout(()=>t.apply(this,a),o)}}S(async()=>{u(s,await U(),!0),e(s)&&e(s).id_token&&(u(h,y(e(s).id_token),!0),await L(),w(),l=k(w,250),window.addEventListener("resize",l))}),T(()=>{l&&window.removeEventListener("resize",l)});function w(){if(!e(n)||!e(s))return;const t=e(n).getContext("2d");if(!t)return;const o=window.devicePixelRatio||1,i=e(n).parentElement.getBoundingClientRect();e(n).width=i.width*o,e(n).height=i.width/16*9*o,t.scale(o,o),e(n).style.width=`${i.width}px`,e(n).style.height=`${i.width/16*9}px`,t.fillStyle="white",t.fillRect(0,0,e(n).width,e(n).height);const a=i.width/20;t.font=`700 ${a*1.2}px 'Outfit', sans-serif`,t.fillStyle="black",t.textAlign="center",t.fillText("MEMBERSHIP CARD",i.width/2,a*2),t.font=`400 ${a}px 'Outfit', sans-serif`,t.textAlign="left",t.fillText(`Name: ${e(h)?.name}`,25,a*5),t.fillText(`Effective Date: ${e(s).profile.effective_date}`,25,a*7),t.fillText(`Expiration Date: ${e(s).profile.expiration_date}`,25,a*9)}var f=B(),m=d(f),C=d(m);{var D=t=>{var o=I(),i=d(o);P(i,r=>u(n,r),()=>e(n));var a=b(i,2);a.__click=function(...r){j?.apply(this,r)},c(o),p(t,o)},E=t=>{var o=M(),i=b(d(o),2);i.__click=function(...a){z?.apply(this,a)},c(o),p(t,o)};O(C,t=>{e(s)?t(D):t(E,!1)})}c(m),c(f),p(x,f),A()}R(["click"]);export{K as component};
